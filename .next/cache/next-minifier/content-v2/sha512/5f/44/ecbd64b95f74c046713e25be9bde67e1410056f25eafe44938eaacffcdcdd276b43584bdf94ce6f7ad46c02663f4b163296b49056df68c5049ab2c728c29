{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[29],{FCOZ:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"postBlog\",(function(){return K}));var n=a(\"KQm4\"),c=a(\"1OyB\"),s=a(\"vuIU\"),i=a(\"JX7q\"),l=a(\"Ji7U\"),r=a(\"md7G\"),o=a(\"foSv\"),d=a(\"rePB\"),j=a(\"nKUr\"),u=a(\"q1tI\"),b=(a(\"91UR\"),a(\"bXiM\")),h=a(\"Ie8z\"),m=a(\"PsDL\"),g=a(\"csfp\"),p=a(\"iae6\"),O=a(\"H2TA\"),f=a(\"r9w1\"),x=a(\"ofer\"),v=a(\"Z3vd\"),y=a(\"cVXz\"),N=a(\"9jPY\"),C=a(\"30+C\"),w=a(\"kKAo\"),I=a(\"jjAL\"),B=a(\"lO0E\"),P=a(\"BtGj\"),k=a.n(P),S=a(\"/MKj\"),_=a(\"o0o1\"),E=a.n(_),D=a(\"HaE+\"),F=a(\"vDqi\"),T=a.n(F),U=(a(\"vcXL\"),a(\"9QRE\")),R=a(\"WUv8\"),W=a.n(R),X=a(\"nV/U\"),L=a.n(X),z=a(\"QJNS\"),A=a(\"g3U7\");function J(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(o.a)(e);if(t){var c=Object(o.a)(this).constructor;a=Reflect.construct(n,arguments,c)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var K=function(e){Object(l.a)(a,e);var t=J(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,l=new Array(s),r=0;r<s;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l)),Object(d.a)(Object(i.a)(e),\"state\",{body:\"\",loading:!1,category:[\"category\"],description:\"\",title:\"\",thumbnailImage:\"\",imageName:\"\",caption:\"\"}),Object(d.a)(Object(i.a)(e),\"type\",(function(t){e.setState({body:t})})),Object(d.a)(Object(i.a)(e),\"handleChange\",(function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))})),Object(d.a)(Object(i.a)(e),\"handlePost\",(function(){var t={body:e.state.body,title:e.state.title,category:e.state.category,description:e.state.description,thumbnail:e.state.thumbnailImage};e.props.postBlogs(t)})),Object(d.a)(Object(i.a)(e),\"handlePostImageChange\",(function(t){e.setState({loading:!0});var a=t.target.files[0],n=new FormData;n.append(\"image\",a,a.name),T.a.post(\"/create-pdf/resumeImage\",n).then((function(t){e.setState({thumbnailImage:t.data.url,imageName:t.data.imageName,loading:!1})})).catch((function(e){console.log(e)}))})),Object(d.a)(Object(i.a)(e),\"PostTimelineImage\",(function(e){document.getElementById(\"postImage\").click()})),Object(d.a)(Object(i.a)(e),\"addCategory\",(function(t){var a=t.target.value;if(\"Enter\"===t.key&&a){if(e.state.category.find((function(e){return e.toLowerCase()===a.toLowerCase()})))return;e.setState({category:[].concat(Object(n.a)(e.state.category),[a])}),e.tagInput.value=null}else\"Backspace\"!==t.key||a||e.deleteCat(e.state.category.length-1)})),Object(d.a)(Object(i.a)(e),\"deleteCat\",(function(t){var a=Object(n.a)(e.state.category);a.splice(t,1),e.setState({category:a})})),e}return Object(s.a)(a,[{key:\"render\",value:function(){var e=this,t=this.props.classes,a=this.state.body;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b.a,{children:Object(j.jsx)(B.a,{children:Object(j.jsx)(\"h4\",{children:\"BlogPost\"})})}),Object(j.jsx)(\"div\",{className:\"container-fluid container2\",children:Object(j.jsxs)(\"div\",{className:\"row\",children:[Object(j.jsxs)(\"div\",{className:\"col-md-9\",children:[Object(j.jsx)(\"div\",{className:\"title-box\",children:Object(j.jsx)(f.a,{id:\"title\",label:\"Title\",name:\"title\",onChange:this.handleChange,variant:\"outlined\",fullWidth:!0})}),Object(j.jsx)(\"br\",{}),Object(j.jsx)(\"div\",{className:\"rich-text\",children:Object(j.jsx)(\"div\",{className:\"rich-text-wall\",children:Object(j.jsx)(z.a,{body:a,handleChange:this.type})})})]}),Object(j.jsx)(\"div\",{className:\"col-md-3\",children:Object(j.jsx)(\"div\",{className:\"right-panel\",children:Object(j.jsx)(\"div\",{className:\"meta-wall\",children:Object(j.jsxs)(\"div\",{className:\"row\",children:[Object(j.jsx)(\"div\",{className:\"col-md-6 col-sm-6\",children:Object(j.jsx)(\"div\",{className:\"language\",children:Object(j.jsxs)(y.a,{name:\"language\",id:\"language\",label:\"language\",children:[Object(j.jsx)(I.a,{value:\"Website\",children:\"English\"}),Object(j.jsx)(I.a,{value:\"Facebook\",children:\"French\"})]})})}),Object(j.jsx)(\"div\",{className:\"col-md-6 col-sm-6\",children:Object(j.jsx)(\"div\",{className:\"publish\",children:Object(j.jsx)(v.a,{onClick:this.handlePost,variant:\"contained\",color:\"primary\",endIcon:Object(j.jsx)(k.a,{}),children:\"Publish\"})})}),Object(j.jsxs)(\"div\",{className:\"col-md-12 scheme-input\",children:[Object(j.jsx)(x.a,{variant:\"subtitle\",gutterBottom:!0,children:\"Description\"}),Object(j.jsx)(A.a,{onChange:this.handleChange,name:\"description\",\"aria-label\":\"maximum height\",placeholder:\"Short description of the article\"})]}),Object(j.jsx)(\"div\",{className:\"col-md-12 cont\",children:Object(j.jsxs)(\"div\",{className:\"categories\",children:[Object(j.jsx)(x.a,{variant:\"subtitle\",gutterBottom:!0,children:\"Categories\"}),Object(j.jsxs)(w.a,{component:\"ul\",className:t.root,children:[this.state.category.map((function(a,n){return Object(j.jsx)(\"li\",{children:Object(j.jsx)(N.a,{label:a,onDelete:function(){return e.deleteCat(n)},className:t.chip})},n)})),Object(j.jsx)(f.a,{className:\"categoryText\",label:\"New category\",onKeyDown:this.addCategory,ref:function(t){e.tagInput=t},id:\"standard-size-small\",size:\"small\"})]})]})}),Object(j.jsxs)(\"div\",{className:\"col-md-12 conts\",children:[Object(j.jsx)(x.a,{variant:\"subtitle\",gutterBottom:!0,children:\"Thumbnail Image\"}),Object(j.jsx)(\"input\",{type:\"file\",id:\"postImage\",accept:\"images/*\",className:t.postImage,multiple:!0,onChange:this.handlePostImageChange,hidden:\"hidden\"}),Object(j.jsx)(\"label\",{htmlFor:\"contained-button-file\",children:Object(j.jsx)(v.a,{onClick:this.PostTimelineImage,variant:\"contained\",color:\"default\",endIcon:Object(j.jsx)(L.a,{}),component:\"span\",children:\"Upload Image\"})}),Object(j.jsx)(\"br\",{}),\"\"!==this.state.thumbnailImage||this.state.loading?this.state.loading?Object(j.jsx)(p.a,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g.a,{title:\"cancelImage\",children:Object(j.jsx)(m.a,{className:t.coverButton,children:Object(j.jsx)(W.a,{style:{fontSize:\"4vh\"}})})}),Object(j.jsx)(C.a,{children:Object(j.jsx)(h.a,{image:this.state.thumbnailImage,className:\"card-image2\"})})]}):Object(j.jsx)(\"p\",{})]}),Object(j.jsx)(\"div\",{className:\"col-md-12 cont\",children:Object(j.jsx)(f.a,{label:\"Caption\",onChange:this.handleChange,name:\"caption\",fullWidth:!0,variant:\"outlined\"})})]})})})})]})})]})}}]),a}(u.Component);t.default=Object(S.b)((function(e){return{user:e.user}}),{postBlogs:function(e){return function(){var t=Object(D.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:U.e}),n=T.a.post(\"https://us-central1-resume-builder-startup.cloudfunctions.net/api/postBlog\",e),a({type:U.g,payload:n.data}),a({type:U.a});case 4:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Object(O.a)((function(e){return{root:{display:\"flex\",justifyContent:\"center\",flexWrap:\"wrap\",listStyle:\"none\",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)},input:{display:\"none\"}}}))(K))},WO4k:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/postBlog\",function(){return a(\"FCOZ\")}])},lSNA:function(e,t){e.exports=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},vcXL:function(e,t,a){\"use strict\";var n=self.fetch.bind(self);e.exports=n,e.exports.default=e.exports}},[[\"WO4k\",1,0,2,4,5,6,7,8,13,14]]]);","extractedComments":[]}