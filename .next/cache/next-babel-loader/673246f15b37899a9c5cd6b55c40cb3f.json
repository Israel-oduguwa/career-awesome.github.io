{"ast":null,"code":"import _toConsumableArray from \"C:/Users/Israel Oduguwa/Desktop/startup-server/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:/Users/Israel Oduguwa/Desktop/startup-server/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/Israel Oduguwa/Desktop/startup-server/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:/Users/Israel Oduguwa/Desktop/startup-server/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:/Users/Israel Oduguwa/Desktop/startup-server/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/Users/Israel Oduguwa/Desktop/startup-server/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/Users/Israel Oduguwa/Desktop/startup-server/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"C:/Users/Israel Oduguwa/Desktop/startup-server/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { withRouter, useRouter } from \"next/router\";\nimport { withRouterProps } from \"next/dist/client/with-router\";\nimport Link from \"next/link\";\nimport { connect } from \"react-redux\";\nimport Head from 'next/head';\nimport useSWR from 'swr';\nimport Interweave from \"interweave\";\nimport Comment from \"../../../components/Likes_Comments/Comment\"; // import StaticPageNavBar from \"../NavComponents/StaticPageNavbar\";\n\nimport { withStyles } from '@material-ui/core/styles'; // import { getBlog } from  \"../Redux/Actions/dataAction\";\n\nimport Typography from '@material-ui/core/Typography';\nimport axios from \"axios\"; // import PropTypes from \"prop-types\";\n\nimport Avatar from '@material-ui/core/Avatar';\nimport BlogPreview from '../../../components/blogPreveiw'; // export default function blog({blog}){\n//     const router = useRouter();\n//     if(!router.isFallback && !blog){\n//         return <div>ERROR 404</div>\n//     }\n//     return(\n// <>\n// </>\n//     )\n// }\n\nvar SimilarBlog = function SimilarBlog(props) {\n  var router = useRouter();\n  var id = router.query.id;\n\n  var _useSWR = useSWR(\"https://us-central1-resume-builder-startup.cloudfunctions.net/api/categoryBlog/\".concat(id)),\n      data = _useSWR.data,\n      error = _useSWR.error;\n\n  if (error) return /*#__PURE__*/_jsx(\"div\", {});\n  if (!data) return /*#__PURE__*/_jsx(\"div\", {\n    children: \"LOading...\"\n  });\n\n  if (props.display) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      children: /*#__PURE__*/_jsx(BlogPreview, {\n        data: data\n      })\n    });\n  }\n};\n\nexport var __N_SSG = true;\nexport var BlogPage = /*#__PURE__*/function (_Component) {\n  _inherits(BlogPage, _Component);\n\n  var _super = _createSuper(BlogPage);\n\n  function BlogPage() {\n    var _this;\n\n    _classCallCheck(this, BlogPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      comment: \"\",\n      commentCount: \"\",\n      blogId: \"\",\n      likeCount: \"\",\n      body: \"\",\n      loading: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hoverSet\", function () {\n      _this.setState({\n        comment: _this.props.blog.comments,\n        commentCount: _this.props.blog.commentCount,\n        likeCount: _this.props.blog.likeCount\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleLike\", function () {\n      if (_this.props.user.authenticated) {}\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"submitComment\", function () {\n      if (_this.props.user.authenticated) {\n        var commentData = {\n          body: _this.state.body\n        };\n\n        _this.setState({\n          loading: true\n        });\n\n        axios.post(\"https://us-central1-resume-builder-startup.cloudfunctions.net/api/getBlog/\".concat(_this.props.blog.blogId, \"/comment\"), commentData).then(function (res) {\n          _this.setState({\n            loading: false,\n            comment: [].concat(_toConsumableArray(_this.state.comment), [res.data]),\n            commentCount: _this.state.commentCount + 1\n          });\n        })[\"catch\"](function (err) {\n          console.log(err);\n        });\n      } else {\n        _this.props.router.push('/signup');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleComment\", function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    });\n\n    return _this;\n  }\n\n  _createClass(BlogPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount(prevProps) {\n      if (!this.props.router.isFallback) {\n        this.setState({\n          comment: this.props.blog.comments,\n          commentCount: this.props.blog.commentCount,\n          likeCount: this.props.blog.likeCount\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // const { router } = this.props;\n      var blog = this.props.blog;\n      return /*#__PURE__*/_jsx(_Fragment, {\n        children: !this.props.router.isFallback ? /*#__PURE__*/_jsxs(\"div\", {\n          className: \"LandingPageContainer\",\n          children: [/*#__PURE__*/_jsx(Head, {\n            children: /*#__PURE__*/_jsx(\"title\", {\n              children: this.props.blog.title\n            })\n          }), this.props.blog ? /*#__PURE__*/_jsxs(\"div\", {\n            className: \"container\",\n            children: [/*#__PURE__*/_jsx(\"button\", {\n              onClick: this.hoverSet,\n              children: \"SEtState\"\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"article\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"row justify-hcontent-center\",\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: \"col-md-8 align-self-center text-center\",\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    className: \"the-title\",\n                    children: /*#__PURE__*/_jsx(Typography, {\n                      variant: \"h4\",\n                      gutterBottom: true,\n                      children: blog.title\n                    })\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    className: \"ai-and-an\",\n                    children: /*#__PURE__*/_jsx(Link, {\n                      href: \"/user/\".concat(blog.userId, \"/\").concat(blog.fullName.replace(/\\s+/g, '-')),\n                      children: /*#__PURE__*/_jsxs(\"a\", {\n                        children: [/*#__PURE__*/_jsx(Avatar, {\n                          alt: blog.fullName,\n                          src: blog.AuthorImage\n                        }), /*#__PURE__*/_jsx(Typography, {\n                          variant: \"subtitle2\",\n                          children: blog.fullName\n                        })]\n                      })\n                    })\n                  })]\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"col-md-8 align-self-center\",\n                  children: /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"tp\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"bi\",\n                      children: /*#__PURE__*/_jsx(\"img\", {\n                        src: blog.thumbnail,\n                        alt: \"topImage\",\n                        className: \"bi-image\"\n                      })\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"m-a\",\n                      children: /*#__PURE__*/_jsx(Interweave, {\n                        content: blog.body\n                      })\n                    })]\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"col-md-3\",\n                  children: \"hi\"\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"col-md-12\",\n                  children: [\"likes \", blog.likeCount]\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"col-md-12\",\n                  children: /*#__PURE__*/_jsx(Comment, {\n                    blogId: blog.blogId,\n                    submitComment: this.submitComment,\n                    handleComment: this.handleComment,\n                    comments: this.state.comment,\n                    commentCount: this.state.commentCount\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"col-md-12\",\n                  children: /*#__PURE__*/_jsx(SimilarBlog, {\n                    display: true\n                  })\n                })]\n              })\n            })]\n          }) : /*#__PURE__*/_jsx(\"h1\", {\n            children: \"Loading\"\n          })]\n        }) : /*#__PURE__*/_jsx(_Fragment, {})\n      });\n    }\n  }]);\n\n  return BlogPage;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user // UI: state.UI\n\n  };\n};\n\nexport default connect(mapStateToProps)(withRouter(BlogPage));","map":null,"metadata":{},"sourceType":"module"}